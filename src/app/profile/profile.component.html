<form nz-form [formGroup]="informationForm" (ngSubmit)="_submitForm()" style="padding:10px">
  <div nz-row [nzGutter]="40" [nzJustify]="start">
    <div nz-col [nzSm]="12" [nzXs]="24">
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
          <label>用户名</label>
        </div>
        <div nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="6">
            <div nz-form-control> {{username}} </div>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
          <label for="cname" nz-form-item-required>员工姓名</label>
        </div>
        <div nz-form-control nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="6" [nzValidateStatus]="getFormControl('cname')">
          <nz-input [nzSize]="'large'" formControlName="cname" [nzId]="'cname'"
          [nzPlaceHolder]="'你的中文姓名'"></nz-input>
          <div nz-form-explain *ngIf="getFormControl('cname').dirty&&getFormControl('cname').hasError('required')">员工姓名不能为空</div>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
          <label for="employeeNO" nz-form-item-required>员工编号</label>
        </div>
        <div nz-form-control nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="6" [nzValidateStatus]="getFormControl('employeeNO')">
          <nz-input [nzSize]="'large'" formControlName="employeeNO" [nzId]="'employeeNO'"
          [nzPlaceHolder]="'你的员工编号'"></nz-input>
          <div nz-form-explain *ngIf="getFormControl('employeeNO').dirty&&getFormControl('employeeNO').hasError('required')">员工编号不能为空</div>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
          <label nz-form-item-required>岗位类型</label>
        </div>
        <div nz-form-control nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="6">
          <nz-select formControlName="jobType" [nzSize]="'large'">
            <nz-option *ngFor="let jt of jobTypes" 
             [nzLabel]="jt.label" [nzValue]="jt.value">
            </nz-option>
          </nz-select>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
          <label nz-form-item-required>工作职能</label>
        </div>
        <div nz-form-control nz-col [nzSm]="12" [nzMd]="12" [nzLg]="6" [nzXs]="24">
          <nz-select formControlName="jobCategory" [nzSize]="'large'">
            <nz-option *ngFor="let jc of jobCategories" 
             [nzLabel]="jc.label" [nzValue]="jc.value">
            </nz-option>
          </nz-select>
        </div>
      </div>
    </div>
    <div nz-col [nzSm]="12" [nzXs]="24">
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="8" [nzXs]="24">
          <label>企业邮箱</label>
        </div>
        <div nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="6">
            <div nz-form-control> {{email}} </div>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="8" [nzXs]="24">
          <label nz-form-item-required>一级部门</label>
        </div>
        <div nz-form-control nz-col [nzXs]="24" [nzSm]="12" [nzMd]="12" [nzLg]="6">
          <nz-select nzAllowClear formControlName="firstDepartment" [nzSize]="'large'"
           [nzPlaceHolder]="'你所在的一级部门'" [nzShowSearch]="true">
            <nz-option
                *ngFor="let fd of firstDepartments"
                [nzLabel]="fd.departmentName"
                [nzValue]="fd.departmentId">
            </nz-option>
          </nz-select>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="8" [nzXs]="24">
          <label nz-form-item-required>二级部门</label>
        </div>
        <div nz-form-control nz-col [nzXs]="24" [nzSm]="12" [nzMd]="12" [nzLg]="6">
          <nz-select formControlName="secondDepartment" [nzSize]="'large'"
           [nzPlaceHolder]="'你所在的二级部门'" [nzShowSearch]="true"
           [nzNotFoundContent]="'暂未有二级部门'"
           [(ngModel)]="getFormControl('secondDepartment').value">
            <nz-option
                *ngFor="let sd of secondDepartments"
                [nzLabel]="sd.departmentName"
                [nzValue]="sd.departmentId">
            </nz-option>
          </nz-select>
        </div>
      </div>
      
      <div nz-form-item nz-row [nzType]="'flex'" [nzAlign]="'middle'">
        <div nz-form-label nz-col [nzSm]="8" [nzXs]="24">
          <label nz-form-item-required>选择头像</label>
        </div>
        <div nz-form-control nz-col [nzSm]="8" [nzXs]="18" [nzMd]="8" [nzLg]="4" class="avatarContainer">
          <nz-select formControlName="avatarId" [nzSize]="'large'" class="avatarselection">
            <nz-option [nzLabel]="'1'" [nzValue]="1"></nz-option>
            <nz-option [nzLabel]="'2'" [nzValue]="2"></nz-option>
            <nz-option [nzLabel]="'3'" [nzValue]="3"></nz-option>
            <nz-option [nzLabel]="'4'" [nzValue]="4"></nz-option>
            <nz-option [nzLabel]="'5'" [nzValue]="5"></nz-option>
            <nz-option [nzLabel]="'6'" [nzValue]="6"></nz-option>
            <nz-option [nzLabel]="'7'" [nzValue]="7"></nz-option>
            <nz-option [nzLabel]="'8'" [nzValue]="8"></nz-option>
            <nz-option [nzLabel]="'9'" [nzValue]="9"></nz-option>
            <nz-option [nzLabel]="'10'" [nzValue]="10"></nz-option>            
          </nz-select>
        </div>
          <div nz-col [nzSm]="6" [nzXs]="6" [nzMd]="6" [nzLg]="3">
            <span class="avatar"
            [style.background-image]="avatarUrl">
            </span>
          </div>
      </div>
        <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSm]="8" [nzXs]="24">
          <label for="account" nz-form-item-required>天翼账号</label>
        </div>
        <div nz-form-control nz-col [nzSm]="12" [nzXs]="24" [nzMd]="12" [nzLg]="7" [nzValidateStatus]="getFormControl('account')">
          <nz-input [nzSize]="'large'" formControlName="account" [nzId]="'account'" [nzType]="email"
          [nzPlaceHolder]="'你的天翼账号'" (ngModelChange)="updateEmailValidator()"></nz-input>
          <div nz-form-explain *ngIf="getFormControl('account').dirty&&getFormControl('account').hasError('required')">天翼账号不能为空</div>    
          <div nz-form-explain *ngIf="getFormControl('account').dirty&&getFormControl('account').hasError('valid')">天翼账号(189邮箱)格式不正确</div>                
        </div>
      </div>
    </div>
  </div>
      <div nz-form-item nz-row style="margin:auto; text-align:center">
        <div nz-col  [nzXs]="24">
          <button nz-button [nzSize]="'large'" class="login-form-button" [nzType]="'primary'"
           [disabled]="!informationForm.valid||(saving=='保存中...'?true:false)"
           [nzLoading]="(saving=='保存中...'?true:false)">
           {{saving}}
        </button>
        </div>
      </div>
</form>